{% extends './admin/baseAdmin.html' %} {% block title %}Dashboard{% endblock %}
{%block contents %}
<br> <br> 
    <div class="verticalBar">
            <ul>
        <li><a href="#Miembros">Miembros</a></li>
        <li><a href="#Inscripciones">Inscripciones</a></li>
        <li><a href="#Actividades">Actividades</a></li>
        <li><a href="#Voluntarios">Voluntarios</a></li>
        <li><a href="#Impacto">Impacto</a></li>
        <li><a href="#Mensajes">Mensajes</a></li>
        <li><a href="#Notificaciones">Notificaciones</a></li>
        </ul>
    </div>

    <div class="bodyDash">
        <h1>Dashboard</h1>
        <div id="Miembros">
            <h2>Miembros</h2> <br>
            <table class="tablaDash"> <!-- Solo que se vean los usuarios que son miembros de raices -->
                <h3>Tabla Miembros</h3> <button> Añadir miembro </button>
                <!-- Se deben printear solo los que tienen cargo=miembro -->
                <tr>
                    <th>Id</th>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>Año de ingreso a ESEN</th>
                    <th>Teléfono</th>
                    <th>Departamento</th>
                    <th>Correo</th>
                    <th>Eliminar</th>
                    <th>Miembro</th>
                    <th>Voluntario</th>
                </tr>
                {% for miembro in MiembrosFull %}
                <tr class="">
                    <td>{{ miembro.idVoluntario }}</td>
                    <td>{{ miembro.nombre }}</td>
                    <td>{{ miembro.apellido }}</td>
                    <td>{{ miembro.anno }}</td>
                    <td>{{ miembro.telefono }}</td>
                    <td>{{ miembro.telefono }}</td>
                    <td>{{ miembro.correo }}</td>
                    <td><a href="{{ url_for('admin.deleteVoluntario' , idVoluntario=miembro.idVoluntario) }}">Dar de baja</a></td>
                    <td><a href="{{ url_for('admin.hacerMiembro' , idVoluntario=miembro.idVoluntario) }}">Hacer miembro</a></td>
                    <td><a href="{{ url_for('admin.hacerVoluntario' , idVoluntario=miembro.idVoluntario) }}">Hacer voluntario</a></td>
                </tr>
                {% endfor %}
            </table>

            <br>
            <table class="tablaDash"> <!-- junta directiva de raices -->
                <h3>Tabla Junta Directiva</h3><button> Añadir miembro a Junta Directiva </button>
                <tr>
                    <th>Id</th>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>Cargo</th>
                    <th>Correo</th>
                    <th>Link de Foto</th>
                    <th>Eliminar</th>
                    <th>Modificar</th>
                </tr>
                {% for miembroJD in JDFull %}
                    <tr class="">
                        <td>{{ miembroJD.idPersona }}</td>
                        <td>{{ miembroJD.nombre }}</td>
                        <td>{{ miembroJD.apellido }}</td>
                        <td>{{ miembroJD.cargo }}</td>
                        <td>{{ miembroJD.correo }}</td>
                        <td>{{ miembroJD.link }}</td>
                        <td><a href="{{ url_for('admin.deleteJD' , idPersona=miembroJD.idPersona) }}">Eliminar</a></td>
                        <td><a href="">Modificar</a></td>
                    </tr>
                {% endfor %}
                </table>
        </div>


        <div id="Inscripciones">
            <table class="tablaDash"> <!-- incripciones de actividades de raices -->
            <h2>Inscripciones</h2>
            <tr>
                <th>Id</th>
                <th>Voluntario</th>
                <th>Actividad</th>
                <th>Asistencia</th>
                <th>Pago</th>
                <th>Kg de reciclaje</th>
                <th>Horas totales</th>
                <th>Evidencia</th>
                <th>Eliminar</th>
                <th>Modificar</th>
            </tr>
            {% for ins in InscripcionesFull %}
                <tr class="">
                    <td>{{ins.idInscripcion}}</td>
                    <td>{{ins.idVoluntario}}</td>
                    <td>{{ins.idActividad}}</td>
                    <td>{{ins.estadoAsistencia}}</td>
                    <td>{{ins.estadoPago}}</td>
                    <td>{{ins.cantidadKg}}</td>
                    <td>{{ins.horasTotales}}</td>
                    <td>{{ins.evidencia}}</td>
                    <td><a href="">Eliminar</a></td>
                    <td><a href="">Modificar</a></td>
                </tr>
            {% endfor %}
        </table>
        <br>
        <button class="btn-actividad">
            Descargar
        </button>
        </div>


        <div id="Actividades">
            <h2>Actividades</h2> <button> Añadir Actividad </button>
            <table class="tablaDash"> <!-- actividades de raices -->
                <tr>
                    <th>Id</th>
                    <th>Descripción</th>
                    <th>Nombre</th>
                    <th>Tipo Actividad</th>
                    <th>Ubicación</th>
                    <th>Tipo de Horas</th>
                    <th>Fecha Inicio</th>
                    <th>Fecha Final</th>
                    <th>Cantidad de Horas</th>
                    <th>Cupos</th>
                    <th>Estado</th>
                    <th>Eliminar</th>
                    <th>Modificar</th>
                </tr>
                {% for act in ActividadesFull%}
                    <tr class="">
                        <td>{{act.idActividad}}</td>
                        <td>{{act.descripcion}}</td>
                        <td>{{act.nombreActividad}}</td>
                        <td>{{act.tipoActividad}}</td>
                        <td>{{act.lugarActividad}}</td>
                        <td>{{act.tipoHoras}}</td>
                        <td>{{act.fechaInicio}}</td>
                        <td>{{act.fechaFinal}}</td>
                        <td>{{act.horasSociales}}</td>
                        <td>{{act.cuposTotales}}</td>
                        <td>{{act.estado}}</td>
                        <td><a href="{{ url_for('admin.deleteActividad' , idActividad=act.idActividad) }}">Eliminar</a></td>
                        <td><a href="">Modificar</a></td>
                    </tr>
                {% endfor %}
            </table>
        </div>


        <div id="Voluntarios">
            <h2>Voluntarios</h2> <button> Añadir voluntario </button>
            <!-- Se deben printear los que Departamento=NA -->
            <table class="tablaDash"> <!-- voluntarios de raices -->
                <tr>
                    <th>Id</th>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>Año de ingreso a ESEN</th>
                    <th>Teléfono</th>
                    <th>Correo</th>
                    <th>Eliminar</th>
                    <th>Miembro</th>
                    <th>Voluntario</th>
                </tr>
                <tr class="">
                    {% for miembro in MiembrosFull %}
                    <tr class="">
                        <td>{{ miembro.idVoluntario }}</td>
                        <td>{{ miembro.nombre }}</td>
                        <td>{{ miembro.apellido }}</td>
                        <td>{{ miembro.anno }}</td>
                        <td>{{ miembro.telefono }}</td>
                        <td>{{ miembro.correo }}</td>
                        <td><a href="{{ url_for('admin.deleteVoluntario' , idVoluntario=miembro.idVoluntario) }}">Dar de baja</a></td>
                        <td><a href="{{ url_for('admin.hacerMiembro' , idVoluntario=miembro.idVoluntario) }}">Hacer miembro</a></td>
                        <td><a href="{{ url_for('admin.hacerVoluntario' , idVoluntario=miembro.idVoluntario) }}">Hacer voluntario</a></td>
                    </tr>
                    {% endfor %}
                </tr>
            </table>
        </div>

        
        <div id="Impacto">
            <table class="tablaImpacto"> <!-- impacto de actividades de raices -->
            <h2>Inscripciones</h2>
            <tr>
                <th>Id</th>
                <th>Árboles</th>
                <th>Kilogramos reciclados</th>
                <th>Voluntarios</th>
                <th>Tortugas liberadas</th>
            </tr>
 
                <tr class="">
                    <td>{{ }}</td>
                    <td>{{ }}</td>
                    <td>{{ }}</td>
                    <td>{{ }}</td>
                    <td><a href="">Modificar</a></td>
                </tr>

        </table>
        </div>


        <div id="Mensajes">
            <h2>Mensajes</h2>
            <table class="tablaDash"> <!-- mensajes de contacto -->
                <tr>
                    <th>Id</th>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>Teléfono</th>
                    <th>Mensaje</th>
                    <th>Estado</th>
                    <th>Eliminar</th>
                    <th>Modificar</th>
                </tr>
                {% for mes in MessagesFull%}
                    <tr class="">
                        <td>{{mes.idContacto}}</td>
                        <td>{{mes.nombre}}</td>
                        <td>{{mes.apellido}}</td>
                        <td>{{mes.teléfono}}</td>
                        <td>{{mes.mensaje}}</td>
                        {% if mes.estado == 0 %}
                            <td>No Leído</td>
                        {% else %}
                            <td>Leído</td>
                        {% endif %}
                        
                        <td><a href="{{ url_for('admin.deleteMessage' , idContacto=mes.idContacto) }}">Eliminar</a></td>
                        {% if mes.estado == 0 %}
                            <td><a href="{{ url_for('admin.changeStatusMessage' , idContacto=mes.idContacto) }}">Marcar como Leído</a></td>
                        {% elif mes.estado == 1 %}
                            <td><a href="{{ url_for('admin.changeStatusMessage', idContacto=mes.idContacto) }}">Marcar como No Leído</a></td>
                        {% endif %}
                    </tr>
                {% endfor %}
            </table>
            
        </div>
        <br>

<!-- YO CREO QUE NO HAREMOS ESTE, NO ES TAN NECESARIO -->
 <!--        <div id="Notificaciones">
            <h2>Notificaciones</h2>
        </div> -->

    </div>

    {% endblock %}